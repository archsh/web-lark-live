<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
    <link rel="apple-touch-icon" sizes="76x76" href="../../assets/img/apple-icon.png"/>
    <link rel="icon" type="image/png" href="../../assets/img/lark_sparrow.png"/>
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1"/>

    <title>影视点播预览</title>

    <meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport'/>
    <meta name="viewport" content="width=device-width"/>

    <!-- Bootstrap core CSS     -->
    <link href="../../assets/css/bootstrap.min.css" rel="stylesheet"/>

    <!--  Material Dashboard CSS    -->
    <link href="../../assets/css/material-dashboard.css" rel="stylesheet"/>

    <!--  CSS for Demo Purpose, don't include it in your project     -->
    <link href="../../assets/css/demo.css" rel="stylesheet"/>

    <!--     Fonts and icons     -->
    <link href="../../assets/font-awesome-4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <link rel="stylesheet" type="text/css" href="../../assets/google-iconfont/material-icons.css"/>
    <style>
        .tab-pane-fixed {
            max-height: 400px;
            /*width: 100%;*/
            overflow-y:scroll;
        }

    </style>
</head>

<body>

<div class="wrapper" id='vod-player'>

    <div class="sidebar" data-active-color="rose" data-background-color="black" data-image="../../assets/img/sidebar-2.jpg">
        <!--
            Tip 1: You can change the color of the sidebar using: data-color="purple | blue | green | orange | red"

            Tip 2: you can also add an image using data-image tag
        -->

        <div class="logo">
            <a href="../../index.html" class="simple-text">
                影视点播预览
            </a>
        </div>
        <div class="logo logo-mini">
            <a href="../../index.html" class="simple-text">
                TV
            </a>
        </div>
        <div class="sidebar-wrapper">
            <ul class="nav">
                <li v-for="cata in catalogs" v-bind:class='{ active: current_category.id == cata.id }'>
                    <a v-on:click='change_category(cata)' href='#'>
                        <i class="material-icons">view_list</i>
                        <p>{{cata.title}}</p>
                    </a>
                </li>
            </ul>
        </div>
    </div>

    <div class="main-panel">
        <nav class="navbar navbar-transparent navbar-absolute">
            <div class="container-fluid">
                <div class="navbar-minimize">
                    <button id="minimizeSidebar" class="btn btn-round btn-white btn-fill btn-just-icon">
                        <i class="material-icons visible-on-sidebar-regular">more_vert</i>
                        <i class="material-icons visible-on-sidebar-mini">view_list</i>
                    </button>
                </div>
                <div class="navbar-header">
                    <button type="button" class="navbar-toggle" data-toggle="collapse">
                        <span class="sr-only">Toggle navigation</span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                        <span class="icon-bar"></span>
                    </button>
                    <a class="navbar-brand" href='#'>{{current_place.place}} / {{current_category.title}} </a>
                </div>
                <div class="collapse navbar-collapse">
                    <ul class="nav navbar-nav navbar-right">
                        <li class="dropdown">
                            <a href="#pablo" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="material-icons">place</i> 地 区 ({{current_place.place}})
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li v-for='place in all_places'><a href="#" v-on:click='change_place(place)'>{{place.place}}</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#pablo" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="material-icons">subtitles</i> EPG ({{current_epg.host}}:{{current_epg.port}})
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li v-for='epg in current_place.epg_servers'><a href="#" v-on:click='change_epg(epg)'>{{epg.host}}:{{epg.port}}</a>
                                </li>
                            </ul>
                        </li>
                        <li class="dropdown">
                            <a href="#pablo" class="dropdown-toggle" data-toggle="dropdown">
                                <i class="material-icons">dns</i> LVS ({{current_lvs.host}}:{{current_lvs.port}})
                                <b class="caret"></b>
                            </a>
                            <ul class="dropdown-menu">
                                <li v-for='lvs in current_place.lvs_servers'><a href="#" v-on:click='change_lvs(lvs)'>{{lvs.host}}:{{lvs.port}}</a>
                                </li>
                            </ul>
                        </li>
                        <li>
                            <a href="#" v-on:click='getCatalogs'>
                                <i class="material-icons">sync</i> 刷 新
                            </a>
                        </li>
                        <li>
                            <a href="../../index.html">
                                <i class="material-icons">exit_to_app</i> 返 回
                            </a>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>

        <div class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-lg-12 col-md-12">
                        <div class="card">
                            <div class="card-header" data-background-color="orange">
                                <h4 class="title"> {{current_category.title}} </h4>
                                <p class="category"> 数据源： {{current_epg.host}}:{{current_epg.port}} </p>
                            </div>
                            <div class="card-content table-responsive">
                                <div class='row'>
                                    <div class="col-lg-12 col-md-12">
                                        <div class="material-datatables">
                                            <table id="datatables"
                                                   class="table table-striped table-no-bordered table-hover"
                                                   cellspacing="0" width="100%" style="width:100%">
                                                <thead>
                                                <tr>
                                                    <th width='30'>#</th>
                                                    <th>片 名</th>
                                                    <th>简 介</th>
                                                    <th>类 型</th>
                                                    <th width='60'>发 布</th>
                                                    <th width="20"></th>
                                                </tr>
                                                </thead>
                                                <tfoot>
                                                <tr>
                                                    <th width='30'>#</th>
                                                    <th>片 名</th>
                                                    <th>简 介</th>
                                                    <th>类 型</th>
                                                    <th width='60'>发 布</th>
                                                    <th></th>
                                                </tr>
                                                </tfoot>
                                                <tbody>
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Detail Modal -->
    <div class="modal fade bs-example-modal-lg" id="MovieDetailsModal" tabindex="-1" role="dialog"
         aria-labelledby="MovieTitle">
        <div class="modal-dialog modal-lg" role="document">
            <div class="modal-content">
                <div class="modal-header">
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close"><span
                            aria-hidden="true">&times;</span></button>
                    <h4 class="modal-title" id="MovieTitle"> 影片详情</h4>
                </div>
                <div class="modal-body">
                    <div class="row">
                        <div class="col-md-2">
                            <ul class="nav nav-pills nav-pills-icons nav-pills-info nav-stacked" role="tablist">
                                <!--
                    color-classes: "nav-pills-primary", "nav-pills-info", "nav-pills-success", "nav-pills-warning","nav-pills-danger"
                -->
                                <li class="active">
                                    <a id='show_tab_details' href="#tab_details" role="tab" data-toggle="tab">
                                        <i class="material-icons">details</i> 详 情
                                    </a>
                                </li>
                                <li>
                                    <a id='show_tab_' href="#tab_series" role="tab" data-toggle="tab">
                                        <i class="material-icons">view_list</i> 剧 集
                                    </a>
                                </li>
                                <li>
                                    <a id='show_tab_playing' href="#tab_playing" role="tab" data-toggle="tab">
                                        <i class="material-icons">playlist_play</i> 播 放
                                    </a>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-10">
                            <div class="tab-content">
                                <div class="tab-pane active" id="tab_details">
                                    <div class="row">
                                        <div class="col-md-8">
                                            <h5>类 型：
                                                <small>{{current_movie?current_movie.program.movieclass:''}}</small>
                                            </h5>
                                            <h5>导 演：
                                                <small>{{current_movie?current_movie.movies[0].direct:''}}</small>
                                            </h5>
                                            <h5>演 员：
                                                <small>{{current_movie?current_movie.movies[0].role:''}}</small>
                                            </h5>
                                            <h5>上 映：
                                                <small>{{current_movie?current_movie.program.years:''}}</small>
                                            </h5>
                                            <h5>评 分：
                                                <small>{{current_movie?current_movie.movies[0].grade/10.0:''}}</small>
                                            </h5>
                                            <h5>简 介：
                                                <small>{{current_movie?current_movie.program.programdesc:''}}</small>
                                            </h5>
                                        </div>
                                        <div class="col-md-4">
                                            <div class="thumbnail">
                                                <img v-bind:src="current_movie?'poster/'+current_epg.host+'/'+current_epg.port+'/poster/gitv'+current_movie.program.picurl:''"
                                                     alt="..." width="160" height="auto">
                                                <div class="caption">
                                                    <h3 align="center">
                                                        {{current_movie?current_movie.program.programname:''}}</h3>
                                                    <center>
                                                        <small align="center">
                                                            {{current_movie?current_movie.program.remark:''}}
                                                        </small>
                                                    </center>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane tab-pane-fixed" id="tab_series">
                                    <div class="panel-group" id="accordion" role="tablist" aria-multiselectable="true">
                                        <div class="panel panel-default"
                                             v-for="(movie,idx) in current_movie?current_movie.movies:[]">
                                            <div class="panel-heading" role="tab" v-bind:id='"heading"+idx'>
                                                <a role="button" data-toggle="collapse" data-parent="#accordion"
                                                   v-bind:aria-expanded="idx==0"
                                                   v-bind:href='"#collapse"+idx' v-bind:aria-controls='"collapse"+idx'>
                                                    <h4 class="panel-title">
                                                        #{{idx+1}} {{movie.moviename}}
                                                        <i class="material-icons">keyboard_arrow_down</i>
                                                    </h4>
                                                </a>
                                            </div>
                                            <div v-bind:id='"collapse"+idx' class="panel-collapse collapse" v-bind:class="{in: idx==0}"
                                                 role="tabpanel"
                                                 v-bind:aria-labelledby='"heading"+idx'>
                                                <div class="panel-body">
                                                    <h5>剧情：<small>
                                                        {{movie.moviedesc}}
                                                    </small></h5>
                                                    <p><span class="text-rose">源：{{movie.guid}}</span>
                                                    <button class="btn btn-sm btn-info btn-round" v-on:click="play_movie(movie)"><i
                                                            class="material-icons">play_arrow</i> 播 放 </button>
                                                    </p>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                <div class="tab-pane" id="tab_playing">
                                    <div class="row">
                                        <div class="col-md-12">
                                            <h4 align="center">{{current_movie?current_movie.program.programname:''}} <small>{{current_playing?'（'+current_playing.moviename+'）':''}}</small></h4>
                                            <video id="Hvideo" class="center-block" controls="controls" preload="auto"
                                                   data-setup="{}" width="100%" height="auto"></video>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-primary btn-round" data-dismiss="modal">Close</button>
                </div>
            </div>
        </div>
    </div>
</div>

</body>

<!--   Core JS Files   -->
<script src="../../assets/js/jquery-3.1.1.min.js" type="text/javascript"></script>
<script src="../../assets/js/jquery-ui.min.js" type="text/javascript"></script>
<script src="../../assets/js/bootstrap.min.js" type="text/javascript"></script>
<script src="../../assets/js/material.min.js" type="text/javascript"></script>
<script src="../../assets/js/perfect-scrollbar.jquery.min.js" type="text/javascript"></script>
<!-- Forms Validations Plugin -->
<script src="../../assets/js/jquery.validate.min.js"></script>
<!--  Plugin for Date Time Picker and Full Calendar Plugin-->
<script src="../../assets/js/moment.min.js"></script>
<!--  Charts Plugin -->
<script src="../../assets/js/chartist.min.js"></script>
<!--  Plugin for the Wizard -->
<script src="../../assets/js/jquery.bootstrap-wizard.js"></script>
<!--  Notifications Plugin    -->
<script src="../../assets/js/bootstrap-notify.js"></script>
<!--   Sharrre Library    -->
<script src="../../assets/js/jquery.sharrre.js"></script>
<!-- DateTimePicker Plugin -->
<script src="../../assets/js/bootstrap-datetimepicker.js"></script>
<!-- Vector Map plugin -->
<script src="../../assets/js/jquery-jvectormap.js"></script>
<!-- Sliders Plugin -->
<script src="../../assets/js/nouislider.min.js"></script>
<!--  Google Maps Plugin    -->
<!-- <script src="https://maps.googleapis.com/maps/api/js"></script> -->
<!-- Select Plugin -->
<script src="../../assets/js/jquery.select-bootstrap.js"></script>
<!--  DataTables.net Plugin    -->
<script src="../../assets/js/jquery.datatables.js"></script>
<!-- Sweet Alert 2 plugin -->
<script src="../../assets/js/sweetalert2.js"></script>
<!--	Plugin for Fileupload, full documentation here: http://www.jasny.net/bootstrap/javascript/#fileinput -->
<script src="../../assets/js/jasny-bootstrap.min.js"></script>
<!--  Full Calendar Plugin    -->
<script src="../../assets/js/fullcalendar.min.js"></script>
<!-- TagsInput Plugin -->
<script src="../../assets/js/jquery.tagsinput.js"></script>
<!--  HLS.JS -->
<script src="../../assets/js/hls.min.js"></script>
<!-- <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script> -->
<!--  Vue.js -->
<script src="../../assets/js/vue-2.4.2.js"></script>
<!-- App Javacripts  -->
<script type="text/javascript" src="vod_data.js"></script>
<script type="text/javascript" src="vod_play.js"></script>

<!-- Material Dashboard javascript methods -->
<script src="../../assets/js/material-dashboard.js"></script>
<script type="text/javascript">
    $(document).ready(function () {
        //     $('#datatables').DataTable({
        //         "pagingType": "full_numbers",
        //         "lengthMenu": [
        //             [30, 60, 100, -1],
        //             [30, 60, 100, "All"]
        //         ],
        //         responsive: true,
        //         language: {
        //             search: "_INPUT_",
        //             searchPlaceholder: "Search records",
        //         }
        //
        //     });
        //
        //
        //     var table = $('#datatables').DataTable();
        //
        //     // Edit record
        //     table.on('click', '.edit', function () {
        //         $tr = $(this).closest('tr');
        //
        //         var data = table.row($tr).data();
        //         alert('You press on Row: ' + data[0] + ' ' + data[1] + ' ' + data[2] + '\'s row.');
        //     });
        //
        //     // Delete a record
        //     table.on('click', '.remove', function (e) {
        //         $tr = $(this).closest('tr');
        //         table.row($tr).remove().draw();
        //         e.preventDefault();
        //     });
        //
        //     //Like record
        //     table.on('click', '.like', function () {
        //         alert('You clicked on Like button');
        //     });
        //
        // $('.card .material-datatables label').addClass('form-group');
        $('.tab-pane-fixed').perfectScrollbar();
    });
</script>
</html>
